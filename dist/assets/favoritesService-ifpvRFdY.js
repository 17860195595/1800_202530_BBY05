import{d as i,q as c,o as b,g as f,c as m,w as y,b as v,e as w,f as h}from"./firebaseConfig-D6gRsOSx.js";function r(t){return m(i,"users",t,"favorites")}function p(t,e){return typeof t!="number"||typeof e!="number"?"":`${Number(t).toFixed(5)},${Number(e).toFixed(5)}`}async function F(t,e,s){if(!i)return!1;const o=p(e,s),a=r(t),n=c(a,y("key","==",o));return!(await f(n)).empty}async function k(t,e){if(!i)throw new Error("DB not available");const s=r(t);return await h(s,e)}async function q(t,e,s){if(!i)return;const o=p(e,s),a=r(t),n=c(a,y("key","==",o)),u=await f(n),d=[];u.forEach(l=>{d.push(v(w(r(t),l.id)))}),await Promise.all(d)}async function x(t){if(!i)return[];const e=r(t),s=c(e,b("savedAt","desc")),o=await f(s),a=[];return o.forEach(n=>a.push({id:n.id,...n.data()})),a}export{k as a,p as b,F as i,x as l,q as r};

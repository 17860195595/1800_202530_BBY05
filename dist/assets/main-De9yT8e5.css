body{min-height:100vh;padding-bottom:80px!important;box-sizing:border-box}@media (max-width: 480px){body{padding-bottom:75px!important}}#welcomeBox{margin:clamp(.5rem,2.5vw,1rem) auto clamp(.5rem,2vw,1rem) auto;width:clamp(280px,90vw,480px);background:linear-gradient(90deg,#e6ffe6,#f6fff6);color:#155724;border:1px solid #c3e6cb;border-radius:clamp(.75rem,3vw,1.2rem);box-shadow:0 4px 16px #2c3e501a;padding:clamp(.5rem,2vw,.75rem) clamp(.75rem,3vw,1.2rem);font-size:clamp(.875rem,2.5vw,1.08rem);transition:box-shadow .2s;word-break:break-word;z-index:10;display:flex;align-items:center;justify-content:space-between;gap:clamp(.5rem,2.5vw,1rem);flex-wrap:nowrap}#welcomeMsg{display:flex;align-items:center;flex:1;min-width:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}#welcomeActions{display:flex;align-items:center;gap:clamp(.5rem,2vw,1rem);flex-shrink:0}.login-btn{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;padding:clamp(.4rem,1.5vw,.5rem) clamp(.75rem,3vw,1.2rem);border-radius:clamp(.4rem,1.5vw,.5rem);font-size:clamp(.75rem,2vw,.9rem);font-weight:600;cursor:pointer;transition:all .3s ease;box-shadow:0 2px 8px #667eea4d;white-space:nowrap}.login-btn:hover{background:linear-gradient(135deg,#764ba2,#667eea);transform:translateY(-1px);box-shadow:0 4px 12px #667eea66}.login-btn:active{transform:translateY(0)}#welcomeBox:hover{box-shadow:0 8px 24px #2c3e502e}#closeWelcomeBox{cursor:pointer;font-size:clamp(1rem,4vw,1.5rem);color:#155724;background:none;border:none;outline:none;border-radius:50%;width:clamp(1.5rem,5vw,2rem);height:clamp(1.5rem,5vw,2rem);line-height:clamp(1.5rem,5vw,2rem);text-align:center;transition:background .2s,color .2s,box-shadow .2s;box-shadow:0 0 #2c3e5000;display:flex;align-items:center;justify-content:center;flex-shrink:0}#closeWelcomeBox:hover{color:#0b3d0b;background:#d4f5d4;box-shadow:0 2px 8px #c3e6cb}.main-container{max-width:1200px;margin:2rem auto;padding:0 1.5rem;display:flex;flex-direction:column;align-items:stretch}.main-container h1{text-align:center;margin-bottom:2rem;font-size:2rem;font-weight:600;color:#333}#map{z-index:2;width:100%!important;height:500px!important;min-height:500px;border-radius:1em;box-shadow:0 4px 20px #00000026;overflow:hidden;transition:all .3s ease;position:relative;background-color:#e5e5e5;margin-top:0}.map-loaded{animation:fadeInMap .5s ease-in}@keyframes fadeInMap{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}#map:hover{box-shadow:0 8px 30px #0003}.user-location-marker{background:transparent;border:none;position:relative}.marker-pulse{position:absolute;width:40px;height:40px;border-radius:50%;background:#4a90e266;border:2px solid #4a90e2;animation:pulse 2s ease-out infinite;top:-10px;left:-10px}.marker-dot{position:absolute;width:12px;height:12px;background:#4a90e2;border:3px solid #fff;border-radius:50%;box-shadow:0 2px 8px #0000004d;top:4px;left:4px}@keyframes pulse{0%{transform:scale(.8);opacity:1}to{transform:scale(2);opacity:0}}.city-marker{background:transparent;border:none}.city-marker-icon{font-size:28px;filter:drop-shadow(0 2px 4px rgba(0,0,0,.3));animation:bounce 2s ease-in-out infinite}.search-marker{background:transparent;border:none}.search-marker-icon{font-size:28px;filter:drop-shadow(0 2px 4px rgba(0,0,0,.3));animation:rotateSearch 2s ease-in-out infinite}@keyframes rotateSearch{0%,to{transform:rotate(0) scale(1)}50%{transform:rotate(5deg) scale(1.1)}}@keyframes bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-5px)}}@media (max-width: 768px){.main-container{margin:1rem auto;padding:0 1rem;width:100%}.main-container h1{font-size:1.5rem;margin-bottom:1.5rem}#map{height:400px;border-radius:.5em}}@media (max-width: 430px){.main-container{margin:1rem auto;padding:0 1rem;width:100%}.main-container h1{font-size:1.25rem;margin-bottom:1rem}#map{height:350px}}@media (max-width: 480px){.main-container{margin:.5rem auto;padding:0 .75rem;width:100%;box-sizing:border-box}.main-container h1{font-size:1.25rem;margin-bottom:1rem}#map{height:350px}}.leaflet-popup-content-wrapper{border-radius:12px;box-shadow:0 4px 12px #00000026;padding:8px}.leaflet-popup-content{margin:12px;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;font-size:14px;color:#333;font-weight:500}.leaflet-popup-tip{box-shadow:0 2px 8px #00000026}.report-section{display:flex;justify-content:center;margin:2rem 0}.report-btn{display:flex;align-items:center;gap:.5rem;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;padding:.875rem 2rem;border-radius:50px;font-size:1.1rem;font-weight:600;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 15px #667eea66}.report-btn:hover{transform:translateY(-3px);box-shadow:0 8px 25px #667eea80;background:linear-gradient(135deg,#764ba2,#667eea)}.report-btn:active{transform:translateY(-1px)}.report-btn svg{transition:transform .3s ease}.report-btn:hover svg{transform:translateY(-2px)}.traffic-icon-marker{background:none!important;border:none!important}.traffic-icon-marker div{transition:transform .2s ease}.traffic-icon-marker:hover div{transform:scale(1.1)}.traffic-tooltip{background:#333;color:#fff;border:none;border-radius:4px;padding:4px 8px;font-size:12px}.traffic-popup .leaflet-popup-content-wrapper{background:#fff;border-radius:8px}.traffic-popup .leaflet-popup-content{margin:12px;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif}.traffic-popup .leaflet-popup-content h4{margin:0 0 8px;color:#333;font-size:16px}.traffic-popup .leaflet-popup-content p{margin:4px 0;color:#666;font-size:14px}.traffic-detail-modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;z-index:10000;pointer-events:none}.traffic-detail-modal.show{display:block;pointer-events:auto}.traffic-detail-modal:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:#00000080;z-index:1}.traffic-detail-content{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:280px;max-width:90%;background:#fff;border:2px solid #333;border-radius:12px;box-shadow:0 4px 16px #0000004d;z-index:2;animation:slideDown .3s ease;padding:0}@keyframes slideDown{0%{opacity:0;transform:translate(-50%,-60%)}to{opacity:1;transform:translate(-50%,-50%)}}.traffic-detail-header{background:#333;color:#fff;padding:1rem;display:flex;justify-content:space-between;align-items:center;border-radius:10px 10px 0 0}.traffic-detail-header h3{margin:0;font-size:1rem;font-weight:600}.traffic-close-btn{background:transparent;border:none;color:#fff;font-size:1.5rem;cursor:pointer;padding:0;width:24px;height:24px;display:flex;align-items:center;justify-content:center;transition:all .2s ease;line-height:1}.traffic-close-btn:hover{transform:scale(1.2);color:#f44}.traffic-detail-body{padding:1rem;display:flex;flex-direction:column;gap:.75rem}.traffic-status-item{display:flex;justify-content:space-between;align-items:center;padding:.5rem 0;border-bottom:1px solid #e0e0e0}.traffic-status-item:last-child{border-bottom:none}.traffic-label{font-size:.875rem;color:#666;font-weight:500}.traffic-value{font-size:.875rem;color:#333;font-weight:600;text-align:right;max-width:60%;word-break:break-word}@media (max-width: 768px){.report-btn{padding:.75rem 1.5rem;font-size:1rem}}.traffic-jam-alert{margin:1.5rem 0 2.5rem;border-radius:16px;box-shadow:0 8px 32px #ff444440;overflow:hidden;animation:slideInDown .5s ease-out;transition:all .3s ease;border:3px solid}@keyframes slideInDown{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.traffic-jam-alert.traffic-jam-low{background:linear-gradient(135deg,#e8f5e9,#f1f8e9);border-color:#4caf50}.traffic-jam-alert.traffic-jam-medium{background:linear-gradient(135deg,#fff3e0,#ffe0b2);border-color:#ff9800;box-shadow:0 8px 32px #ff98004d;animation:pulseWarning 2s ease-in-out infinite}.traffic-jam-alert.traffic-jam-high{background:linear-gradient(135deg,#ffebee,#ffcdd2);border-color:#f44336;box-shadow:0 8px 32px #f4433666;animation:pulseDanger 1.5s ease-in-out infinite}@keyframes pulseWarning{0%,to{box-shadow:0 8px 32px #ff98004d}50%{box-shadow:0 12px 40px #ff980080}}@keyframes pulseDanger{0%,to{box-shadow:0 8px 32px #f4433666;transform:scale(1)}50%{box-shadow:0 12px 48px #f4433699;transform:scale(1.01)}}.traffic-jam-header{display:flex;align-items:center;padding:1.25rem 1.5rem;gap:1rem;background:#fff9;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.traffic-jam-icon{width:60px;height:60px;border-radius:14px;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#f44,#f66);color:#fff;box-shadow:0 4px 12px #f446;animation:iconPulse 2s ease-in-out infinite;flex-shrink:0;transition:all .3s ease}.traffic-jam-alert.traffic-jam-low .traffic-jam-icon{background:linear-gradient(135deg,#4caf50,#66bb6a);box-shadow:0 4px 12px #4caf5066;animation:iconPulseGreen 2s ease-in-out infinite}@keyframes iconPulse{0%,to{transform:scale(1);box-shadow:0 4px 12px #f446}50%{transform:scale(1.05);box-shadow:0 6px 16px #f449}}@keyframes iconPulseGreen{0%,to{transform:scale(1);box-shadow:0 4px 12px #4caf5066}50%{transform:scale(1.05);box-shadow:0 6px 16px #4caf5099}}.traffic-jam-title{flex:1}.traffic-jam-title h2{margin:0;font-size:1.5rem;font-weight:700;color:#333;line-height:1.2}.traffic-jam-subtitle-wrapper{display:flex;flex-direction:column;gap:.75rem;margin-top:.25rem}.traffic-jam-subtitle{margin:0;font-size:.875rem;color:#666;font-weight:500}.traffic-jam-distance-filter{display:flex;align-items:center;gap:.4rem;margin-top:.25rem}.traffic-jam-distance-filter .filter-label{font-size:.75rem;color:#666;font-weight:500;white-space:nowrap}.distance-select{padding:.25rem .5rem;border:1px solid #ddd;border-radius:6px;background:#fff;font-size:.75rem;color:#333;font-weight:500;cursor:pointer;transition:all .2s ease;outline:none;min-width:65px;height:fit-content;line-height:1.4}.distance-select:hover{border-color:#667eea;box-shadow:0 2px 4px #667eea1a}.distance-select:focus{border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.traffic-jam-count{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:.75rem 1.25rem;background:#fffc;border-radius:12px;min-width:80px;box-shadow:0 2px 8px #0000001a}.count-number{font-size:2rem;font-weight:800;line-height:1;color:#f44336;animation:numberBounce .5s ease-out}.traffic-jam-alert.traffic-jam-low .count-number{color:#4caf50}.traffic-jam-alert.traffic-jam-medium .count-number{color:#ff9800}@keyframes numberBounce{0%{transform:scale(.5);opacity:0}50%{transform:scale(1.2)}to{transform:scale(1);opacity:1}}.count-label{font-size:.75rem;color:#666;font-weight:600;margin-top:.25rem;text-transform:uppercase;letter-spacing:.5px}.traffic-jam-content{padding:1rem 1.5rem 1.5rem;background:#fff6;max-height:500px;overflow-y:auto;overflow-x:hidden}.traffic-jam-content::-webkit-scrollbar{width:8px}.traffic-jam-content::-webkit-scrollbar-track{background:#0000000d;border-radius:4px}.traffic-jam-content::-webkit-scrollbar-thumb{background:#0003;border-radius:4px;transition:background .2s ease}.traffic-jam-content::-webkit-scrollbar-thumb:hover{background:#0000004d}.traffic-jam-loading{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:2rem;gap:1rem}.loading-spinner{width:40px;height:40px;border:4px solid rgba(255,68,68,.2);border-top-color:#f44;border-radius:50%;animation:spin 1s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}.traffic-jam-loading p{margin:0;color:#666;font-size:.9rem}.traffic-jam-error{display:flex;align-items:center;gap:.75rem;padding:1rem;color:#666}.traffic-jam-error svg{color:#999;flex-shrink:0}.traffic-jam-error p{margin:0;font-size:.9rem}.traffic-jam-empty{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:2rem;gap:.75rem;color:#4caf50}.traffic-jam-empty svg{opacity:.8}.traffic-jam-empty p{margin:0;font-size:1rem;font-weight:600;color:#4caf50}.traffic-jam-empty-sub{font-size:.875rem!important;font-weight:400!important;color:#66bb6a!important}.traffic-jam-list{display:flex;flex-direction:column;gap:.75rem}.traffic-jam-item{display:flex;gap:1rem;padding:1rem;background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a;cursor:pointer;transition:all .3s ease;border-left:4px solid transparent}.traffic-jam-item:hover{transform:translate(4px);box-shadow:0 4px 16px #00000026;border-left-color:#f44}.traffic-jam-item-icon{width:40px;height:40px;border-radius:10px;display:flex;align-items:center;justify-content:center;border:2px solid;flex-shrink:0}.traffic-jam-item-content{flex:1;min-width:0}.traffic-jam-item-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem;gap:1rem}.traffic-jam-item-type{font-weight:700;font-size:.95rem;text-transform:uppercase;letter-spacing:.5px}.traffic-jam-item-distance{font-size:.85rem;color:#666;font-weight:600;white-space:nowrap}.traffic-jam-item-user{display:flex;align-items:center;gap:.5rem;margin-bottom:.5rem;font-size:.85rem;color:#555;font-weight:500}.traffic-jam-item-user svg{color:#888;flex-shrink:0}.traffic-jam-item-comment{margin:.5rem 0;color:#333;font-size:.9rem;line-height:1.4;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.traffic-jam-item-footer{display:flex;justify-content:flex-end;margin-top:.5rem}.traffic-jam-item-time{font-size:.75rem;color:#999;font-weight:500}.traffic-jam-more{text-align:center;padding:.75rem;margin-top:.75rem;background:#fff9;border-radius:8px;font-size:.85rem;color:#666;font-weight:500}@media (max-width: 768px){.traffic-jam-alert{margin:1rem 0 2rem;border-radius:12px}.traffic-jam-header{padding:1rem;flex-wrap:wrap}.traffic-jam-icon{width:50px;height:50px}.traffic-jam-title h2{font-size:1.25rem}.traffic-jam-subtitle-wrapper{gap:.5rem}.traffic-jam-subtitle{font-size:.8rem}.traffic-jam-distance-filter{flex-wrap:wrap}.traffic-jam-distance-filter .filter-label{font-size:.75rem}.distance-select{font-size:.7rem;padding:.2rem .5rem;min-width:60px}.traffic-jam-count{padding:.5rem 1rem;min-width:70px}.count-number{font-size:1.75rem}.count-label{font-size:.7rem}.traffic-jam-content{padding:.75rem 1rem 1rem;max-height:400px}.traffic-jam-item{padding:.75rem}.traffic-jam-item-icon{width:36px;height:36px}}@media (max-width: 480px){.traffic-jam-header{gap:.75rem}.traffic-jam-title h2{font-size:1.1rem}.traffic-jam-count{padding:.5rem .75rem;min-width:60px}.count-number{font-size:1.5rem}.traffic-jam-content{max-height:300px}}

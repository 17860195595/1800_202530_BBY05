import"./modulepreload-polyfill-B5Qt9EMX.js";/* empty css             */import"./components-YsRQu0Q4.js";import{f as d,c as l,d as u,s as g}from"./firebaseConfig-DA3vMik7.js";import{onAuthReady as p}from"./authentication-BwXL5VAq.js";import{a as r,b as f}from"./notifications-DXz7xSIH.js";import"./vendor-DAUOFwH1.js";function h(t){const e=window.location.pathname;return e.includes("/pages/")?`./${t}`:e.endsWith("/index.html")||e==="/"||e.endsWith("index.html")?`./src/pages/${t}`:`./src/pages/${t}`}function y(){return h("main.html")}p(t=>{if(!t){r("You must be logged in to submit a report.");return}document.getElementById("reportForm").addEventListener("submit",async e=>{e.preventDefault();const n=t.displayName||t.email||t.uid,a=document.getElementById("type").value,i=document.getElementById("comment").value;navigator.geolocation.getCurrentPosition(async o=>{const s=o.coords.latitude,c=o.coords.longitude;try{await d(l(u,"trafficReports"),{username:n,type:a,comment:i,lat:s,lng:c,createAt:g()}),f("Report sent successfully!"),e.target.reset(),setTimeout(()=>{window.location.href=y()},1e3)}catch(m){console.error("Error adding document: ",m),r("Failed to send report.")}},o=>{console.error("Error getting location: ",o),r("Failed to get your location. Please enable location services.")})})});
